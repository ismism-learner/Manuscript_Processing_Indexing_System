import { PromptTemplates } from './types';

export const defaultPrompts: PromptTemplates = {
  // --- Philosophy Analysis Prompts ---
  analysisSystem: `你是一位知识图谱工程师，专注于从哲学文稿中为特定论域提取结构化的概念层级。你的任务是识别主概念及其下属的次级概念，并分析它们如何体现给定的“运动模式”。你的输出必须是严格的、可被机器解析的、包含完整层级关系的JSON格式。
**重要术语约束**: 在你的所有论述中，尤其是在讨论辩证关系时，请使用“对立调和”一词。**绝对禁止使用“对立统一”这个说法**。这是一个关键的术语区分。`,
  analysisUser: `
**核心任务:**
你的核心任务是为索引中列出的**所有关键术语**进行深入分析。这些术语是“{{domainTerm}}”。

**具体步骤:**
1.  **识别主概念:** 将“{{domainTerm}}”中由 \`|\`, \`vs\`, \`/\` 等符号分隔的每个部分都视为一个独立的**主概念**。
2.  **分析每个主概念:** 对于你识别出的每一个主概念，请在“文稿原文”中搜集其定义、解释和具体例子。
3.  **分析关系:** 根据分隔符（如“对立于”）和原文内容，分析这些主概念之间的关系。
4.  **提取次级概念:** 对每个主概念，寻找并提取任何直接从属于它、对其进行细化或解释的**次级概念**。
5.  **运动模式分析:** 分析这些主概念及其所有次级概念是如何共同作用，以具体体现“{{movementPattern}}”这一核心运动模式的。

**哲学条目详情:**
- **主义:** {{philosophyName}} ([{{philosophyCode}}])
- **当前聚焦的论域:** {{domainName}}
- **论域核心术语 (你的分析焦点):** {{domainTerm}}
- **论域核心运动模式:** {{movementPattern}}

**上下文:**
- **文稿原文:**
    \`\`\`
    {{textContent}}
    \`\`\`

---
**输出指令:**
请将你的分析结果严格组织成如下JSON对象。\`concepts\` 数组应该包含代表“{{domainTerm}}”中**每一个术语**的父级概念，以及它们各自的子概念。

**JSON结构要求:**
\`\`\`json
{
  "concepts": [
    {
      "id": "（必须是 '{{domainKey}}_main_N' 格式，N从1开始递增）",
      "name": "（第一个主概念的名称）",
      "definition": "（从文稿中提取的关于此概念的定义）",
      "explanation": "（从文稿中提取的关于此概念的详细说明）",
      "examples": "（从文稿中提取的关于此概念的具体例子）",
      "movementPatternAnalysis": "（详细分析这个主概念如何体现了“{{movementPattern}}”这一核心运动模式）",
      "relationships": [
        { "targetId": "...", "description": "..." }
      ]
    },
    {
      "id": "（必须是 '{{domainKey}}_main_1_sub_M' 格式，M从1开始递增）",
      "parent": "（必须是其所属主概念的ID: '{{domainKey}}_main_1'）",
      "name": "（次级概念的简洁名称）",
      "definition": "...",
      "explanation": "...",
      "examples": "...",
      "movementPatternAnalysis": "（分析这个次级概念如何具体体现或细化了“{{movementPattern}}”模式）",
      "relationships": [
        { "targetId": "...", "description": "..." }
      ]
    }
  ]
}
\`\`\`
`,
  reportSystem: `OBSOLETE`, // No longer used for API calls
  reportUser: `OBSOLETE`, // No longer used for API calls
  comparisonSystem: `你是一位顶尖的比较哲学分析家，擅长识别不同思想体系之间的深层结构关联、演化和张力。你的任务是基于提供的两份深度分析报告，撰写一份高质量的对比分析。你的分析必须深入、精确，并严格使用索引中提供的核心术语。
**重要术语约束**: 在你的所有论述中，尤其是在讨论辩证关系时，请使用“对立调和”一词。**绝对禁止使用“对立统一”这个说法**。`,
  comparisonUser: `
**任务: 对比分析两个哲学主义**

你已获得以下两个哲学主义的完整深度分析报告和索引条目。请撰写一份详尽的对比分析报告（Markdown格式），报告需包含以下几个关键部分：

1.  **引言**: 简要介绍即将对比的两个主义：**A. [{{itemACode}}] {{itemAName}}** 和 **B. [{{itemBCode}}] {{itemBName}}**。

2.  **结构异同分析**:
    *   逐个论域（场域论、本体论、认识论、目的论）进行对比。
    *   明确指出两者在核心术语、动态模式和基本结构上的**相同点**和**不同点**。
    *   **必须引用并围绕索引中的原始术语进行论述**。

3.  **“变格易位”深度分析 (核心部分)**:
    *   这是分析的重点。探究一个主义中的概念/结构是如何在另一个主义中“滑动”或“转化”到不同论域的。
    *   例如：A主义的**本体论**核心矛盾（如：{{itemAOntology}}），是否在B主义中体现为一种**认识论**上的张力（如：{{itemBEpistemology}}）？
    *   分析这种“变格易位”（transposition）是如何发生的，其内在逻辑是什么？

4.  **社会意识形态现象解读**:
    *   基于以上的结构和“变格易位”分析，推断这种从A到B的转变或差异，可能指代了主体或社会意识形态层面发生了什么样的深刻变化？
    *   这种转变意味着什么？解决了什么旧问题，又带来了什么新问题？

5.  **结论**: 对比分析进行总结，凝练地概括两个主义之间的核心关系（如：继承、颠覆、补充、扬弃等）。

---
**输入材料:**

**主义A: [{{itemACode}}] {{itemAName}}**
*   **场域论:** {{itemAFieldTheory}}
*   **本体论:** {{itemAOntology}}
*   **认识论:** {{itemAEpistemology}}
*   **目的论:** {{itemATeleology}}
*   **报告全文:**
\`\`\`markdown
{{reportA}}
\`\`\`

**主义B: [{{itemBCode}}] {{itemBName}}**
*   **场域论:** {{itemBFieldTheory}}
*   **本体论:** {{itemBOntology}}
*   **认识论:** {{itemBEpistemology}}
*   **目的论:** {{itemBTeleology}}
*   **报告全文:**
\`\`\`markdown
{{reportB}}
\`\`\`
---
请开始撰写你的对比分析报告。
`,
  // --- Comprehensive Analysis Prompts ---
  comprehensive_round0_system: `你是一个高度智能的文本结构分析AI。你的任务是通读整篇文稿，精准地提炼出其核心的结构、主要论点以及内在的逻辑流程。你的总结必须简洁、清晰且具有高度概括性。输出必须是严格的JSON格式。`,
  comprehensive_round0_user: `
**任务:**
请仔细阅读下方的“文稿原文”，并生成一份关于其整体结构和核心内容的总结。

**具体要求:**
1.  **识别结构:** 分析文稿的组织方式（例如：总分结构、时间顺序、问题-解决方案、不同观点的并列等）。
2.  **提炼主旨:** 概括文章的核心论点或主题。
3.  **总结逻辑:** 描述文章的论证是如何展开的，各个部分之间是如何连接的。
4.  **保持简洁:** 你的总结应高度凝练，突出重点。

**文稿原文:**
\`\`\`
{{textContent}}
\`\`\`

---
**输出指令:**
请将你的分析结果严格组织成如下所示的单一JSON对象，只包含一个键 \`summary\`。

\`\`\`json
{
  "summary": "（此处为对文稿整体结构、主旨和逻辑的精炼总结）"
}
\`\`\`
`,
  comprehensive_round1_system: `你是一位知识图谱工程师，专注于从非结构化文本中提取结构化的概念及其关系。你的任务是识别与核心关键词相关的**主概念 (Main Concepts)**，并构建它们之间的关系网络。你的输出必须是严格的、可被机器解析的JSON格式，用于构建知识图谱。`,
  comprehensive_round1_user: `
**任务:**
在下方的“文稿原文”中，围绕核心关键词 **“{{keyword}}”**，识别出与之直接相关的**所有主要概念**。为每个主概念提取其完整的描述，并构建这些主概念之间的关系图谱。如果找不到任何直接相关的主要概念，请返回一个空的 \`concepts\` 数组。

**上下文:**
*   **文稿结构总结:** {{documentSummary}}
*   **文稿原文:**
    \`\`\`
    {{textContent}}
    \`\`\`

---
**输出指令:**
请将你的分析结果严格组织成如下JSON对象，包含一个名为 \`concepts\` 的数组。

**JSON结构要求:**
\`\`\`json
{
  "concepts": [
    {
      "id": "（必须是 '{{keyword}}_main_N' 格式，N从1开始递增，例如 '{{keyword}}_main_1'）",
      "name": "（主概念的简洁名称）",
      "definition": "（从文稿中提取的关于此概念的定义）",
      "explanation": "（从文稿中提取的关于此概念的详细说明）",
      "examples": "（从文稿中提取的关于此概念的具体例子）",
      "relationships": [
        {
          "targetId": "（此概念关联的另一个主概念的ID，例如 '{{keyword}}_main_2'）",
          "description": "（描述这种关联的性质，例如：'引出了...'、'是...的前提'、'与...形成对比'）"
        }
      ]
    }
  ]
}
\`\`\`
`,
  comprehensive_round2_system: `你是一位知识图谱工程师，专攻概念的深化与层级构建。接续上一轮的主概念提取，你的任务是针对一个**特定的主概念**，从原文中挖掘出支撑或从属于它的**次级概念 (Sub-Concepts)**。你的输出必须是严格的、可被机器解析的JSON格式，用于丰富现有知识图谱的细节和层级。`,
  comprehensive_round2_user: `
**任务:**
在“文稿原文”中，找到支撑或从属于主概念 **“{{mainConceptName}}”** 的**所有次级概念**。为每个次级概念提取完整的描述，并定义它们与主概念及彼此之间的关系。只提取文稿中明确存在且从属于该主概念的术语。如果找不到，请返回一个空的 \`concepts\` 数组。

**上下文:**
*   **核心关键词:** {{keyword}}
*   **当前聚焦的主概念分析:**
    \`\`\`json
    {{mainConceptAnalysis}}
    \`\`\`
*   **文稿结构总结:** {{documentSummary}}
*   **文稿原文:**
    \`\`\`
    {{textContent}}
    \`\`\`

---
**输出指令:**
请将你的分析结果严格组织成如下JSON对象，包含一个名为 \`concepts\` 的数组。

**JSON结构要求:**
\`\`\`json
{
  "concepts": [
    {
      "id": "（必须是 '{{mainConceptId}}_sub_N' 格式，N从1开始递增，例如 '{{mainConceptId}}_sub_1'）",
      "parent": "（必须是其所属主概念的ID: '{{mainConceptId}}'）",
      "name": "（次级概念的简洁名称）",
      "definition": "（从文稿中提取的关于此概念的定义）",
      "explanation": "（从文稿中提取的关于此概念的详细说明）",
      "examples": "（从文稿中提取的关于此概念的具体例子）",
      "relationships": [
        {
          "targetId": "（此概念关联的另一个次级概念的ID，或其父主概念的ID '{{mainConceptId}}'）",
          "description": "（描述这种关联的性质，例如：'是...的具体体现'、'解释了...'、'补充说明...'）"
        }
      ]
    }
  ]
}
\`\`\`
`,
  explanationSystem: `你是一位专注于情境化澄清的哲学助手。你的目标是，通过将一个新概念与用户当前正在研究的特定概念及所提供的文稿进行深度关联，来为用户解释这个新概念。你的解释必须清晰、简洁，并专注于弥合用户的理解鸿沟。请直接作答，避免闲聊。你的整个回应必须是中文。`,
  explanationUser: `
**背景:**
我正在研究一份手稿，重点关注 **“{{parentConceptName}}”** 这个概念。

**父概念详情:**
- **定义:** {{parentConceptDefinition}}
- **说明:** {{parentConceptExplanation}}

**我的问题:**
在研究过程中，我遇到了一个不理解的新概念：**“{{newConcept}}”**。

**任务:**
请**仅**基于下方提供的完整手稿，以一种能将 **“{{newConcept}}”** 与我当前关注的 **“{{parentConceptName}}”** 直接联系起来的方式来解释它。请阐明这个新概念在文档的上下文中，是如何与父概念相关联、扩展或形成对比的。

**完整手稿:**
\`\`\`
{{originalTextContent}}
\`\`\`
`
};